{% extends "base.html" %}

{% block title %}Features - SAP Datasphere Control Panel{% endblock %}

{% block extra_css %}
<style>
    .features-hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 3rem 0;
        margin-bottom: 2rem;
        border-radius: 15px;
    }
    
    .feature-card {
        background: white;
        border-radius: 15px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border-left: 4px solid #667eea;
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }
    
    .feature-icon {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        display: block;
    }
    
    .feature-title {
        color: #2d3748;
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }
    
    .feature-description {
        color: #4a5568;
        line-height: 1.6;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 2rem 0;
    }
    
    .stat-card {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
        padding: 1.5rem;
        border-radius: 10px;
        text-align: center;
    }
    
    .stat-number {
        font-size: 2rem;
        font-weight: bold;
        display: block;
    }
    
    .stat-label {
        font-size: 0.9rem;
        opacity: 0.9;
    }
    
    .capability-matrix {
        background: #f7fafc;
        border-radius: 10px;
        padding: 1.5rem;
        margin: 2rem 0;
    }
    
    .capability-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem 0;
        border-bottom: 1px solid #e2e8f0;
    }
    
    .capability-row:last-child {
        border-bottom: none;
    }
    
    .capability-name {
        font-weight: 500;
        color: #2d3748;
    }
    
    .capability-status {
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 500;
    }
    
    .status-available {
        background: #c6f6d5;
        color: #22543d;
    }
    
    .status-enhanced {
        background: #bee3f8;
        color: #2a4365;
    }
    
    .status-planned {
        background: #fbb6ce;
        color: #702459;
    }
    
    .integration-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin: 2rem 0;
    }
    
    .integration-card {
        background: white;
        border-radius: 10px;
        padding: 1.5rem;
        border: 2px solid #e2e8f0;
        transition: border-color 0.3s ease;
    }
    
    .integration-card:hover {
        border-color: #667eea;
    }
    
    .aws-service-logo {
        width: 40px;
        height: 40px;
        background: #ff9900;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        margin-bottom: 1rem;
    }
    
    .version-badge {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 25px;
        font-size: 0.9rem;
        font-weight: 500;
        display: inline-block;
        margin-bottom: 1rem;
    }
    
    .discovery-timeline {
        position: relative;
        padding-left: 2rem;
        margin: 2rem 0;
    }
    
    .discovery-timeline::before {
        content: '';
        position: absolute;
        left: 0.5rem;
        top: 0;
        bottom: 0;
        width: 2px;
        background: linear-gradient(to bottom, #667eea, #764ba2);
    }
    
    .timeline-item {
        position: relative;
        margin-bottom: 2rem;
        background: white;
        padding: 1rem;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .timeline-item::before {
        content: '';
        position: absolute;
        left: -1.75rem;
        top: 1rem;
        width: 12px;
        height: 12px;
        background: #667eea;
        border-radius: 50%;
        border: 3px solid white;
        box-shadow: 0 0 0 2px #667eea;
    }
    
    .timeline-date {
        color: #667eea;
        font-weight: 600;
        font-size: 0.9rem;
    }
    
    .timeline-title {
        color: #2d3748;
        font-weight: 600;
        margin: 0.5rem 0;
    }
</style>
{% endblock %}

{% block content %}
<div class="features-hero text-center">
    <div class="container">
        <h1 class="display-4 mb-3">üåü SAP Datasphere Features</h1>
        <p class="lead">Advanced metadata synchronization with incremental sync and priority-based orchestration</p>
        <div class="version-badge">
            Incremental Sync Engine v3.0 - October 2025
        </div>
    </div>
</div>

<div class="container">
    <!-- Key Statistics -->
    <div class="stats-grid">
        <div class="stat-card">
            <span class="stat-number">82</span>
            <span class="stat-label">Objects Discovered</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">616</span>
            <span class="stat-label">Field Descriptions</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">100%</span>
            <span class="stat-label">Schema Coverage</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">90%</span>
            <span class="stat-label">Bandwidth Savings</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">5</span>
            <span class="stat-label">Sync Strategies</span>
        </div>
        <div class="stat-card">
            <span class="stat-number">100%</span>
            <span class="stat-label">Change Detection</span>
        </div>
    </div>

    <!-- Core Features -->
    <h2 class="mb-4">üöÄ Core Synchronization Capabilities</h2>
    <div class="row">
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">üìä</span>
                <h3 class="feature-title">Enhanced Metadata Extraction</h3>
                <p class="feature-description">
                    Access rich CSN (Core Schema Notation) definitions with complete business context, 
                    field-level descriptions, and relationship mappings through undocumented enhanced APIs.
                </p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">‚ö°</span>
                <h3 class="feature-title">Incremental Synchronization</h3>
                <p class="feature-description">
                    Intelligent change detection with hash-based comparison, delta sync strategies, 
                    and checkpoint management for up to 90% bandwidth savings and faster sync times.
                </p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">üéØ</span>
                <h3 class="feature-title">Priority-Based Orchestration</h3>
                <p class="feature-description">
                    Advanced scheduling engine with critical, high, and medium priority queues. 
                    Real-time sync for analytical models, hourly for core tables, daily for data flows.
                </p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">üîó</span>
                <h3 class="feature-title">Advanced Relationship Mapping</h3>
                <p class="feature-description">
                    Discover object associations, parent-child hierarchies, and text element 
                    relationships for comprehensive data lineage and governance.
                </p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">üèóÔ∏è</span>
                <h3 class="feature-title">Business Context Preservation</h3>
                <p class="feature-description">
                    Extract business domain tags, organizational hierarchies, and multi-language 
                    text associations to maintain business meaning in AWS data catalogs.
                </p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">üìà</span>
                <h3 class="feature-title">Analytics-Ready Definitions</h3>
                <p class="feature-description">
                    Pre-configured measure definitions, aggregation rules, and dimensional 
                    classifications for optimized AWS analytics service integration.
                </p>
            </div>
        </div>
    </div>

    <!-- Capability Matrix -->
    <h2 class="mb-4">‚ö° Capability Matrix</h2>
    <div class="capability-matrix">
        <div class="capability-row">
            <span class="capability-name">Standard Object Discovery</span>
            <span class="capability-status status-available">Available</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Enhanced CSN Schema Extraction</span>
            <span class="capability-status status-enhanced">Enhanced API</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Priority-Based Synchronization</span>
            <span class="capability-status status-available">Production Ready</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Incremental Change Detection</span>
            <span class="capability-status status-available">Production Ready</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Delta Sync (90% Bandwidth Savings)</span>
            <span class="capability-status status-available">Production Ready</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Checkpoint & Resume</span>
            <span class="capability-status status-available">Production Ready</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Business Context Tags</span>
            <span class="capability-status status-enhanced">Enhanced API</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Object Path Identifiers</span>
            <span class="capability-status status-enhanced">Enhanced API</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Hierarchy Definitions</span>
            <span class="capability-status status-enhanced">Enhanced API</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Multi-language Support</span>
            <span class="capability-status status-enhanced">Enhanced API</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">AI-Enhanced Tagging</span>
            <span class="capability-status status-planned">Planned Q2 2026</span>
        </div>
    </div>

    <!-- Incremental Sync Features -->
    <h2 class="mb-4">üîÑ Incremental Synchronization Engine</h2>
    <div class="row">
        <div class="col-md-4">
            <div class="feature-card">
                <span class="feature-icon">üîç</span>
                <h3 class="feature-title">Smart Change Detection</h3>
                <p class="feature-description">
                    Hash-based change detection with content, schema, and metadata comparison. 
                    100% accuracy in identifying created, modified, and deleted assets.
                </p>
                <ul class="list-unstyled mt-2">
                    <li>‚úÖ Content hash comparison</li>
                    <li>‚úÖ Schema change detection</li>
                    <li>‚úÖ Metadata modification tracking</li>
                    <li>‚úÖ Asset creation/deletion</li>
                </ul>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card">
                <span class="feature-icon">‚ö°</span>
                <h3 class="feature-title">Delta Sync Strategies</h3>
                <p class="feature-description">
                    Intelligent sync strategies minimize data transfer: Full sync for new assets, 
                    delta sync for changes, metadata-only for business context updates.
                </p>
                <ul class="list-unstyled mt-2">
                    <li>‚úÖ Full sync (new/schema changes)</li>
                    <li>‚úÖ Delta sync (70% savings)</li>
                    <li>‚úÖ Metadata-only (90% savings)</li>
                    <li>‚úÖ Deletion handling</li>
                </ul>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card">
                <span class="feature-icon">üíæ</span>
                <h3 class="feature-title">Checkpoint Management</h3>
                <p class="feature-description">
                    Persistent checkpoints with automatic cleanup, version tracking, and 
                    resume capabilities for reliable synchronization operations.
                </p>
                <ul class="list-unstyled mt-2">
                    <li>‚úÖ Persistent storage</li>
                    <li>‚úÖ Version tracking</li>
                    <li>‚úÖ Resume capabilities</li>
                    <li>‚úÖ Automatic cleanup</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Priority Orchestration -->
    <h2 class="mb-4">üéØ Priority-Based Orchestration</h2>
    <div class="capability-matrix">
        <h4 class="mb-3">Sync Priority Levels</h4>
        <div class="capability-row">
            <span class="capability-name">Critical Priority - Analytical Models</span>
            <span class="capability-status status-available">Real-time Sync</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">High Priority - Views & Core Tables</span>
            <span class="capability-status status-available">Hourly Sync</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Medium Priority - Data Flows</span>
            <span class="capability-status status-available">Daily Sync</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Low Priority - Metadata Updates</span>
            <span class="capability-status status-available">Weekly Sync</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Maintenance - Manual Operations</span>
            <span class="capability-status status-available">On-Demand</span>
        </div>
    </div>

    <!-- AWS Integration -->
    <h2 class="mb-4">‚òÅÔ∏è AWS Service Integration</h2>
    <div class="integration-grid">
        <div class="integration-card">
            <div class="aws-service-logo">GC</div>
            <h4>AWS Glue Data Catalog</h4>
            <p>Rich table and column descriptions with business context, relationship mappings, and hierarchical structures.</p>
            <ul class="list-unstyled mt-2">
                <li>‚úÖ Enhanced table descriptions</li>
                <li>‚úÖ Business-friendly column names</li>
                <li>‚úÖ Domain-based tagging</li>
                <li>‚úÖ Relationship tracking</li>
            </ul>
        </div>
        <div class="integration-card">
            <div class="aws-service-logo">QS</div>
            <h4>Amazon QuickSight</h4>
            <p>Pre-configured dimensions and measures with automatic dashboard optimization based on Datasphere analytics definitions.</p>
            <ul class="list-unstyled mt-2">
                <li>‚úÖ Auto-configured dimensions</li>
                <li>‚úÖ Pre-built measures</li>
                <li>‚úÖ Hierarchy support</li>
                <li>‚úÖ Multi-language labels</li>
            </ul>
        </div>
        <div class="integration-card">
            <div class="aws-service-logo">LF</div>
            <h4>AWS Lake Formation</h4>
            <p>Business context-aware data governance with automated classification and intelligent permission management.</p>
            <ul class="list-unstyled mt-2">
                <li>‚úÖ Automated classification</li>
                <li>‚úÖ Business context tags</li>
                <li>‚úÖ Lineage tracking</li>
                <li>‚úÖ Governance policies</li>
            </ul>
        </div>
        <div class="integration-card">
            <div class="aws-service-logo">DZ</div>
            <h4>Amazon DataZone</h4>
            <p>Rich business glossary creation with domain-specific data products and enhanced data discovery capabilities.</p>
            <ul class="list-unstyled mt-2">
                <li>‚úÖ Business glossary</li>
                <li>‚úÖ Data product creation</li>
                <li>‚úÖ Enhanced discovery</li>
                <li>‚úÖ Domain organization</li>
            </ul>
        </div>
    </div>

    <!-- Discovery Timeline -->
    <h2 class="mb-4">üîç Development Timeline</h2>
    <div class="discovery-timeline">
        <div class="timeline-item">
            <div class="timeline-date">October 15, 2025</div>
            <h4 class="timeline-title">Standard API Analysis</h4>
            <p>Initial discovery of consumption APIs with basic object enumeration and OData service definitions.</p>
        </div>
        <div class="timeline-item">
            <div class="timeline-date">October 16, 2025</div>
            <h4 class="timeline-title">Enhanced API Investigation</h4>
            <p>Research into undocumented deepsea repository APIs based on community forum findings.</p>
        </div>
        <div class="timeline-item">
            <div class="timeline-date">October 17, 2025</div>
            <h4 class="timeline-title">Authentication Breakthrough</h4>
            <p>Discovered browser-based authentication requirement for enhanced APIs returning rich JSON metadata.</p>
        </div>
        <div class="timeline-item">
            <div class="timeline-date">October 18, 2025</div>
            <h4 class="timeline-title">Complete Metadata Extraction</h4>
            <p>Successfully extracted 82 objects with full CSN definitions, business context, and relationship mappings.</p>
        </div>
        <div class="timeline-item">
            <div class="timeline-date">October 19, 2025</div>
            <h4 class="timeline-title">Priority-Based Orchestration</h4>
            <p>Implemented advanced scheduling engine with critical, high, and medium priority queues for intelligent sync management.</p>
        </div>
        <div class="timeline-item">
            <div class="timeline-date">October 19, 2025</div>
            <h4 class="timeline-title">Incremental Synchronization</h4>
            <p>Deployed hash-based change detection, delta sync strategies, and checkpoint management with 90% bandwidth savings.</p>
        </div>
    </div>

    <!-- Business Domain Coverage -->
    <h2 class="mb-4">üè¢ Business Domain Coverage</h2>
    <div class="row">
        <div class="col-md-4">
            <div class="feature-card">
                <span class="feature-icon">üí∞</span>
                <h3 class="feature-title">Financial (FI)</h3>
                <p class="feature-description">
                    Product categories, profit centers, financial hierarchies, and transaction data 
                    with complete business context and multi-language support.
                </p>
                <small class="text-muted">23+ objects discovered</small>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card">
                <span class="feature-icon">üë•</span>
                <h3 class="feature-title">Human Resources (HR)</h3>
                <p class="feature-description">
                    Employee data, organizational structures, department hierarchies, and 
                    workforce analytics with comprehensive metadata definitions.
                </p>
                <small class="text-muted">40+ objects discovered</small>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card">
                <span class="feature-icon">üìã</span>
                <h3 class="feature-title">Master Data</h3>
                <p class="feature-description">
                    Dimensional data, text tables, hierarchical structures, and reference 
                    data with rich annotations and business classifications.
                </p>
                <small class="text-muted">19+ objects discovered</small>
            </div>
        </div>
    </div>

    <!-- Technical Specifications -->
    <h2 class="mb-4">üîß Technical Specifications</h2>
    <div class="capability-matrix">
        <h4 class="mb-3">Data Type Support</h4>
        <div class="capability-row">
            <span class="capability-name">String Fields (424)</span>
            <span class="capability-status status-available">VARCHAR/STRING</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Integer Fields (70)</span>
            <span class="capability-status status-available">INT/BIGINT</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Associations (50)</span>
            <span class="capability-status status-available">Foreign Keys</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Date Fields (37)</span>
            <span class="capability-status status-available">DATE/TIMESTAMP</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Decimal Fields (31)</span>
            <span class="capability-status status-available">DECIMAL/NUMERIC</span>
        </div>
        <div class="capability-row">
            <span class="capability-name">Boolean Fields (9)</span>
            <span class="capability-status status-available">BOOLEAN</span>
        </div>
    </div>

    <!-- Future Roadmap -->
    <h2 class="mb-4">üîÆ Future Roadmap</h2>
    <div class="row">
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">üåê</span>
                <h3 class="feature-title">MCP Server Integration</h3>
                <p class="feature-description">
                    Model Context Protocol server for AI-accessible metadata operations with 
                    unified search, lineage visualization, and configuration management.
                </p>
                <small class="text-muted">Target: Q4 2025</small>
            </div>
        </div>
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">ü§ñ</span>
                <h3 class="feature-title">AI-Enhanced Metadata</h3>
                <p class="feature-description">
                    Automated business context enhancement using AI to generate intelligent 
                    tags, descriptions, and relationship discovery with machine learning.
                </p>
                <small class="text-muted">Target: Q2 2026</small>
            </div>
        </div>
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">üìä</span>
                <h3 class="feature-title">Advanced Analytics</h3>
                <p class="feature-description">
                    Comprehensive audit trails, data lineage tracking, and performance 
                    analytics with machine learning for sync optimization.
                </p>
                <small class="text-muted">Target: Q1 2026</small>
            </div>
        </div>
        <div class="col-md-6">
            <div class="feature-card">
                <span class="feature-icon">üîß</span>
                <h3 class="feature-title">Multi-Environment Support</h3>
                <p class="feature-description">
                    Three-environment architecture (Dog/Wolf/Bear) with development, 
                    testing, and production deployment capabilities.
                </p>
                <small class="text-muted">Target: Q1 2026</small>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Add smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    // Add animation on scroll for feature cards
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    // Observe all feature cards
    document.querySelectorAll('.feature-card, .integration-card, .timeline-item').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
</script>
{% endblock %}